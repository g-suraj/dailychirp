<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.ico"><meta name="generator" content="Astro v4.4.0"><title>Daily Chirp</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"><style>@media (min-width: 900px){.audiowrapper[data-astro-cid-4q67hhvl]{height:inherit;width:30%;margin:0 auto}}@media (min-width: 300px) and (max-width: 900px){.audiowrapper[data-astro-cid-4q67hhvl]{height:inherit;width:100%;margin:0 auto}}.play[data-astro-cid-4q67hhvl],.refresh[data-astro-cid-4q67hhvl]{height:inherit;width:36%;float:left;border:1px double #878787;border-radius:35px;margin:0 7%;-webkit-transition:background .1s linear;-moz-transition:background .1s linear;-o-transition:background .1s linear;transition:background .1s linear}.play[data-astro-cid-4q67hhvl]:active,.refresh[data-astro-cid-4q67hhvl]:active{background:#e5e5e5}.loader[data-astro-cid-4qws3apc]{width:48px;height:48px;display:inline-block;position:relative}.loader[data-astro-cid-4qws3apc]:after,.loader[data-astro-cid-4qws3apc]:before{content:"";box-sizing:border-box;width:48px;height:48px;border-radius:50%;border:2px solid #fff;position:absolute;left:0;top:0;animation:animloader 2s linear infinite}.loader[data-astro-cid-4qws3apc]:after{animation-delay:1s}@keyframes animloader{0%{transform:scale(0);opacity:1}to{transform:scale(1);opacity:0}}.example::-webkit-scrollbar{display:none}.example{-ms-overflow-style:none;scrollbar-width:none}.styled-link{text-decoration:underline}.button[disabled]{opacity:1}.image-container,.credits-details-container,.audio-container,.result{padding:0}.credits-details-container{font-size:10px}.audio-container,.result{margin-top:3px}.result{padding:0 10px}.bird-image{box-shadow:#00000059 0 5px 15px}@media (min-width: 900px){.bird-image,.bird-audio{width:500px}.buttons-container{width:50%;margin:0 auto}.button-div{padding:5px}}@media (min-width: 300px) and (max-width: 900px){.bird-audio,.guess-button,.buttons-container{width:100%}.bird-image{width:70%}.button-div{width:50%;float:left}}.audio-container{height:6vh}
</style><script type="module">const f=new Date().toDateString(),T=document.querySelector(".loading"),_=document.querySelector(".loaded"),d=document.querySelector(".result"),h=document.querySelector(".bird-image"),S=document.querySelector(".play"),L=document.querySelector(".refresh"),M=document.querySelector(".buttons-container"),g=document.querySelector(".credits-details-container");async function E(i,e){const t=new TextEncoder().encode(i),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).reduce((s,u)=>s*u)%e}async function H(i,e){const t=await E(i,e);console.log(t);let n=[];for(let s=0;s<3;++s)n.push((t+s+1)%e);const y=Math.floor(Math.random()*4);return n.splice(y,0,t),{todaysIndex:t,guesses:n}}window.addEventListener("load",async()=>{setTimeout(()=>{T?.setAttribute("style","display: none"),_?.removeAttribute("style")},500);const i=await fetch("https://suraj.fyi/xeno-canto-processed/pickled_data.json");let e=null;const t=await i.json(),n=t.length,y=new Date().toDateString(),{todaysIndex:s,guesses:u}=await H(y,n),o=t[s],v=u[1]%o._pictures.length,w=o._pictures[v];let b=u[0]%o._occurrences.length,a=o._occurrences[b];g&&(g.innerHTML=`Audio recording is courtesy of ${a.__rightsHolder}.`),h?.setAttribute("src",w),h?.removeAttribute("hidden"),L?.addEventListener("click",()=>{const r=!e?.paused;e?.pause(),b=Math.floor(Math.random()*o._occurrences.length),a=o._occurrences[b],e=new Audio(a.__birdsong),r&&e?.play(),g&&(g.innerHTML=`Audio recording is courtesy of ${a.__rightsHolder}.`)}),S?.addEventListener("click",()=>{e||(e=new Audio(a.__birdsong)),e.paused?e.play():(e.pause(),e.currentTime=0),S.getElementsByTagName("svg")[0].getElementsByTagName("path")[0].setAttribute("d",e.paused?"M14 19V5h4v14zm-8 0V5h4v14z":"M8 5.14v14l11-7z")});const m=f in localStorage;u.forEach(r=>{let c=document.createElement("div");c.className="button-div",c.innerHTML+=`
          <button
              class="button guess-button"
              value="${r===s?"yes":"no"}|${r}">${t[r].vernacularName}
          </button>
        `,c.addEventListener("click",()=>{localStorage.setItem(f,`${r}`),p(),h?.setAttribute("style","")}),M?.appendChild(c)}),m&&p(),h?.setAttribute("style",m?"":"filter: blur(15px) grayscale(100%);");function p(){const r=localStorage.getItem(f)||"",c=document.querySelectorAll(".guess-button");let A=!0;c?.forEach(l=>{l.getAttribute("value")?.startsWith("yes")&&l.classList.add("is-success"),l.getAttribute("value")===`no|${r}`&&(l.classList.add("is-danger"),A=!1),l.setAttribute("disabled","")}),d&&(A?d.innerHTML+="<b>That's right</b>!":d.innerHTML+="<b>Tough luck!</b>",d.innerHTML+=`<br>What you hear is a "${t[s].vernacularName}"<br>(<i>${t[s].scientificName}</i>)`,d.innerHTML+=`<br><a class='styled-link' href='https://www.gbif.org/species/${a.speciesKey}'>Click here</a> for more about this bird.`)}});
</script></head>  <body> <nav class="navbar has-shadow" role="navigation"> <div class="navbar-brand"> <a class="navbar-item" href="https://g-suraj.github.io"> <div class="title is-5">Daily Chirp</div> </a> <a class="navbar-item" href="https://github.com/g-suraj/dailychirp"> <div>source</div> </a> <a class="navbar-item" href="https://g-suraj.github.io/"> <div>about me</div> </a> </div> </nav> <div class="loading section has-text-centered is-centered"> <span class="loader" data-astro-cid-4qws3apc></span> </div> <div class="loaded" style="display: none;"> <div class="columns is-centered is-multiline is-mobile"> <div class="column is-full has-text-centered"> <div class="title is-4" style="margin-top: 10px;">
Guess the Birdsong ðŸŽ¶
</div> </div> <div class="column is-full has-text-centered image-container"> <img class="bird-image" alt="A bird." hidden> </div> <div class="column is-full has-text-centered credits-details-container"></div> <div class="column is-full has-text-centered audio-container">  <div class="audiowrapper" data-astro-cid-4q67hhvl> <div class="play" data-astro-cid-4q67hhvl> <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" data-astro-cid-4q67hhvl><path fill="currentColor" d="M8 5.14v14l11-7z" data-astro-cid-4q67hhvl></path></svg> </div> <div class="refresh" data-astro-cid-4q67hhvl> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%" data-astro-cid-4q67hhvl><path fill="currentColor" d="M12 20q-3.35 0-5.675-2.325T4 12q0-3.35 2.325-5.675T12 4q1.725 0 3.3.712T18 6.75V4h2v7h-7V9h4.2q-.8-1.4-2.187-2.2T12 6Q9.5 6 7.75 7.75T6 12q0 2.5 1.75 4.25T12 18q1.925 0 3.475-1.1T17.65 14h2.1q-.7 2.65-2.85 4.325T12 20" data-astro-cid-4q67hhvl></path></svg> </div> </div> </div> <div class="column has-text-centered" style="padding-bottom: 0;"> <div class="is-centered buttons buttons-container"></div> </div> <div class="column is-full has-text-centered result"></div> </div> </div> </body></html>