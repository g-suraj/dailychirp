<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.ico"><meta name="generator" content="Astro v4.4.0"><title>Daily Chirp</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"><script type="module">const u=new Date().toDateString(),i=document.querySelector(".bird-image"),b=document.querySelector(".bird-audio"),h=document.querySelector(".buttons-container");async function g(o,e){const t=new TextEncoder().encode(o),s=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(s)).reduce((n,r)=>n*r)%e}async function f(o,e){const t=await g(o,e);let s=[];for(let n=0;n<3;++n)s.push((t+n+1)%e);const a=Math.floor(Math.random()*4);return s.splice(a,0,t),{todaysIndex:t,guesses:s}}window.addEventListener("load",async()=>{const e=await(await fetch("https://g-suraj.github.io/xeno-canto-processed/pickled_data.json")).json(),t=e.length,s=new Date().toDateString(),{todaysIndex:a,guesses:n}=await f(s,t),r=e[a];i?.setAttribute("src",r._pictures[0]),i?.removeAttribute("hidden"),b?.setAttribute("src",r._occurrences[0].__birdsong);const l=u in localStorage;n.forEach(c=>{let d=document.createElement("div");d.innerHTML+=`
          <button 
              style="opacity: 1"
              class="button guess-button"
              value="${c===a?"yes":"no"}|${c}">${e[c].vernacularName}
          </button>
        `,d.addEventListener("click",()=>{localStorage.setItem(u,`${c}`),y(),i?.setAttribute("style","")}),h?.appendChild(d)}),l&&y(),i?.setAttribute("style",l?"":"filter: blur(15px)")});function y(){const o=localStorage.getItem(u)||"";document.querySelectorAll(".guess-button")?.forEach(t=>{t.getAttribute("value")?.startsWith("yes")&&t.classList.add("is-success"),t.getAttribute("value")===`no|${o}`&&t.classList.add("is-danger"),t.setAttribute("disabled","")})}
</script></head> <nav class="navbar has-shadow" role="navigation"> <div class="navbar-brand"> <a class="navbar-item" href="https://g-suraj.github.io"> <div class="title">Daily Chirp</div> </a> </div> <div class="navbar-end"> <div class="navbar-item"> <div class="buttons"> <a class="button is-info" href="https://github.com/g-suraj/dailychirp">Source</a> <a class="button is-light" href="https://g-suraj.github.io/">About Me</a> </div> </div> </div> </nav>  <section class="section"> <div class="columns is-centered is-multiline is-mobile"> <div class="column is-full has-text-centered"> <div class="title is-4">What's the birdsong?</div> </div> <div class="column is-full has-text-centered"> <img src="https://images.naturalis.nl/original/193834.jpg" class="bird-image" alt="A bird." hidden="true" style="" width="500" height="700" loading="lazy" decoding="async"> </div> <div class="column is-narrow has-text-centered"> <audio controls style="width: inherit;" class="bird-audio"></audio> </div> <div class="column is-full has-text-centered"> <div class="buttons is-centered buttons-container"></div> </div> </div> </section> </html>