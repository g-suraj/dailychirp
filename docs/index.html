<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.ico"><meta name="generator" content="Astro v4.4.0"><title>Daily Chirp</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"><script type="module">const y=new Date().toDateString(),d=document.querySelector(".bird-image"),g=document.querySelector(".bird-audio"),h=document.querySelector(".buttons-container");async function u(s,e){const t=new TextEncoder().encode(s),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).reduce((r,a)=>r*a)%e}async function f(s,e){const t=await u(s,e),n=await u(t.toString(),e),o=await u(n.toString(),e),r=await u(o.toString(),e),a=Math.floor(Math.random()*4),c=[n,o,r];return c.splice(a,0,t),{todaysIndex:t,guesses:c}}window.addEventListener("load",async()=>{const e=await(await fetch("https://g-suraj.github.io/xeno-canto-processed/pickled_data.json")).json(),t=e.length,n=new Date().toDateString(),{todaysIndex:o,guesses:r}=await f(n,t),a=e[o];d?.setAttribute("src",a._pictures[0]),d?.removeAttribute("hidden"),g?.setAttribute("src",a._occurrences[0].__birdsong);const c=y in localStorage;r.forEach(i=>{let l=document.createElement("div");l.innerHTML+=`
          <button 
              style="opacity: 1"
              class="button guess-button"
              value="${i===o?"yes":"no"}|${i}">${e[i].vernacularName}
          </button>
        `,l.addEventListener("click",()=>{localStorage.setItem(y,`${i}`),b(),d?.setAttribute("style","")}),h?.appendChild(l)}),c&&b(),d?.setAttribute("style",c?"":"filter: blur(15px)")});function b(){const s=localStorage.getItem(y)||"";document.querySelectorAll(".guess-button")?.forEach(t=>{t.getAttribute("value")?.startsWith("yes")&&t.classList.add("is-success"),t.getAttribute("value")===`no|${s}`&&t.classList.add("is-danger"),t.setAttribute("disabled","")})}
</script></head> <nav class="navbar has-shadow" role="navigation"> <div class="navbar-brand"> <a class="navbar-item" href="https://g-suraj.github.io"> <div class="title">Daily Chirp</div> </a> </div> <div class="navbar-end"> <div class="navbar-item"> <div class="buttons"> <a class="button is-info" href="https://github.com/g-suraj/dailychirp">Source</a> <a class="button is-light" href="https://g-suraj.github.io/">About Me</a> </div> </div> </div> </nav>  <section class="section"> <div class="columns is-centered is-multiline is-mobile"> <div class="column is-full has-text-centered"> <div class="title is-4">What's the birdsong?</div> </div> <div class="column is-full has-text-centered"> <img src="https://images.naturalis.nl/original/193834.jpg" class="bird-image" alt="A bird." hidden="true" style="" width="500" height="700" loading="lazy" decoding="async"> </div> <div class="column is-narrow has-text-centered"> <audio controls style="width: inherit;" class="bird-audio"></audio> </div> <div class="column is-full has-text-centered"> <div class="buttons is-centered buttons-container"></div> </div> </div> </section> </html>